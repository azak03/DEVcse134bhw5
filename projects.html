<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Anthony Z.'s projects!">
    <meta name="keywords" content="Anthony Z., Projects">
    <meta name="author" content="Anthony Z.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My projects</title>
    <link rel="stylesheet" href="resources/globalstyle.css">
    <link rel="stylesheet" href="resources/projectstyle.css">
    <script src="resources/theme.js"></script>
</head>
<body>
    <nav class="links">
        <button id="mobile" type="button">â˜°</button>
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="contact.html">Contact</a>
    </nav>
    <div>Theme:</div>
    <noscript> WARNING: JavaScript disabled! The theme toggler is not available.</noscript>
    <button id="theme-button" class="off">ðŸŒ™</button>
    <hgroup>
        <h1><span class="container">My Projects</span></h1>
    </hgroup>
    <button id="local-button">Load Local</button>
    <br>
    <button id="remote-button">Load Remote</button>
    <br>
    <div class="card-container" id="cardContainer"></div>
    <script>
        class ProjectCard extends HTMLElement {
            constructor() {
                super();
                this.attachShadow({ mode: 'open' });
                this.shadowRoot.innerHTML = `
            <style>
                :host {
                    display: block;
                    background: var(--card-bg, #2b2b2a);
                    border: 1px solid var(--card-border, #2b2b2a);
                    padding: 1rem;
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    transition: opacity 0.5s ease-in-out, transform 0.3s ease;
                    transform: translateY(20px);
                    height: 75%;
                    width: 75%;
                }

                :host(:hover) {
                    transform: scale(1.015);
                }

            </style>
                    <h2></h2>
                    <figure>
                        <picture>
                            <img part="cardimg" src="" alt="">
                        </picture>
                    </figure>
                    <p></p>
                    <a part="carda" href="" target="_blank">Read More</a>
                `;
            }
            connectedCallback() {
                this.shadowRoot.querySelector('h2').textContent = this.getAttribute('title');
                this.shadowRoot.querySelector('img').src = this.getAttribute('image');
                this.shadowRoot.querySelector('img').alt = this.getAttribute('alt');
                this.shadowRoot.querySelector('p').textContent = this.getAttribute('description');
                this.shadowRoot.querySelector('a').href = this.getAttribute('link');
            }
        }
        customElements.define('project-card', ProjectCard);
        
        function renderProjects(data, container) {
            container.innerHTML = "";
            data.forEach(item => {
                const card = document.createElement("project-card");
                card.setAttribute("title", item.title);
                card.setAttribute("image", item.image);
                card.setAttribute("alt", item.alt);
                card.setAttribute("description", item.description);
                card.setAttribute("link", item.link);
                container.appendChild(card);
            });
        }
        const projects = [
            {
                title: "XSS Payload",
                image: "https://i0.wp.com/blog.nashtechglobal.com/wp-content/uploads/2024/06/cross-site-scripting-xss.jpg?fit=1200%2C630&ssl=1",
                alt: "Image of XSS",
                description: "As part of the projects I worked on in CSE 127, I created a functional XSS payload that logged user-related information such as username and recent searches. XSS refers to cross-site scripting, in which an attacker exploits vulnerabilities to achieve arbitrary HTML/JavaScript execution in a victim's browser.",
                link: "https://www.cloudflare.com/learning/security/threats/cross-site-scripting/"
            },
            {
                title: "Statistical Analysis Project",
                image: "https://media.licdn.com/dms/image/v2/D4D12AQEFDU4XuJP11w/article-cover_image-shrink_600_2000/article-cover_image-shrink_600_2000/0/1698229402254?e=2147483647&v=beta&t=7mnB7C9BMj6bXQwypYXIwFoQuZ5vItSRLZ0Ox9qvMKA",
                alt: "GIF of printing in action",
                description: "My peers and I worked on a project in which we analyzed what geographical factors determined house prices. We evaluated datasets using python libraries such as numpy, pandas, and seaborn to plot the data and draw conclusions.",
                link: "https://www.kaggle.com/code/imoore/intro-to-exploratory-data-analysis-eda-in-python"
            },
            {
                title: "Web Scraper",
                image: "resources/scraper.png",
                alt: "Screenshot of web scraper",
                description: "A Python-based web scraper to collect data.",
                link: "#"
            }
        ];
    localStorage.setItem("projects", JSON.stringify(projects));
        
    document.addEventListener("DOMContentLoaded", () => {
        const container = document.getElementById("cardContainer");
        document.getElementById("local-button").addEventListener("click", () => {
            const data = JSON.parse(localStorage.getItem("projects")) || [];
            renderProjects(data, container);
        });
        document.getElementById("remote-button").addEventListener("click", () => {
            fetch("https://api.jsonbin.io/v3/b/67d6417f8960c979a5726c3f")
            .then(response => response.json())
            .then(data => {
                renderProjects(data.record, container);
            })
            .catch(error => console.error("Error fetching remote data:", error));
        });
    });
    </script>

    <noscript>Warning: Your browser does not have JavaScript support or JavaScript is disabled! This may cause problems when viewing my site!</noscript>
</body>
</html>
