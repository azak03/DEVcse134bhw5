<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Anthony Z.'s projects!">
    <meta name="keywords" content="Anthony Z., Projects">
    <meta name="author" content="Anthony Z.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My projects</title>
    <link rel="stylesheet" href="resources/globalstyle.css">
    <script src="resources/theme.js"></script>
</head>
<body>
    <nav class="links">
        <button id="mobile" type="button">â˜°</button>
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="contact.html">Contact</a>
    </nav>
    <div>Theme:</div>
    <noscript> WARNING: JavaScript disabled! The theme toggler is not available.</noscript>
    <button id="theme-button" class="off">ðŸŒ™</button>
    <hgroup>
        <h1><span class="container">My Projects</span></h1>
    </hgroup>
    <button id="local-button">Load Local</button>
    <button id="remote-button">Load Remote</button>
    <div class="card-container" id="cardContainer"></div>
    <script>
        class ProjectCard extends HTMLElement {
            constructor() {
                super();
                this.attachShadow({ mode: 'open' });
                this.shadowRoot.innerHTML = `
                    <style>
                        :host {
                            display: block;
                            padding: 16px;
                            border-radius: 8px;
                            background: var(--card-bg);
                            border: 1px solid var(--card-border);
                        }
                        h2 {
                            margin: 0 0 10px;
                        }
                        img {
                            max-width: 100%;
                            border-radius: 5px;
                        }
                        p {
                            margin: 10px 0;
                        }
                        a {
                            text-decoration: none;
                            color: blue;
                        }
                    </style>
                    <h2></h2>
                    <picture>
                        <img src="" alt="">
                    </picture>
                    <p></p>
                    <a href="" target="_blank">Read More</a>
                `;
            }
            connectedCallback() {
                this.shadowRoot.querySelector('h2').textContent = this.getAttribute('title');
                this.shadowRoot.querySelector('img').src = this.getAttribute('image');
                this.shadowRoot.querySelector('img').alt = this.getAttribute('alt');
                this.shadowRoot.querySelector('p').textContent = this.getAttribute('description');
                this.shadowRoot.querySelector('a').href = this.getAttribute('link');
            }
        }
        customElements.define('project-card', ProjectCard);
        
        function renderProjects(data, container) {
            container.innerHTML = "";
            data.forEach(item => {
                const card = document.createElement("project-card");
                card.setAttribute("title", item.title);
                card.setAttribute("image", item.image);
                card.setAttribute("alt", item.alt);
                card.setAttribute("description", item.description);
                card.setAttribute("link", item.link);
                container.appendChild(card);
            });
        }
        const projects = [
            {
                title: "Print Project",
                image: "resources/print.gif",
                alt: "GIF of printing in action",
                description: "This is my print program!",
                link: "#"
            },
            {
                title: "Web Scraper",
                image: "resources/scraper.png",
                alt: "Screenshot of web scraper",
                description: "A Python-based web scraper to collect data.",
                link: "#"
            }
        ];
        
    document.addEventListener("DOMContentLoaded", () => {
        const container = document.getElementById("card-container");
        document.getElementById("local-button").addEventListener("click", () => {
            //const data = JSON.parse(localStorage.getItem("projects")) || [];
            renderProjects(projects, container);
        });
    });
    </script>

    <noscript>Warning: Your browser does not have JavaScript support or JavaScript is disabled! This may cause problems when viewing my site!</noscript>
</body>
</html>
